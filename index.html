<!DOCTYPE html>
<html lang="en">
    
<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Add Pyscript -->
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css">

    <!-- Add Bootstrap 5 (Dark) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-dark.min.css" rel="stylesheet">

    <!-- Pyscript Environment Setup -->
    <py-config type="json">
        {
            "packages": [
                "asyncio",
                "pandas",
                "matplotlib"
            ],
            "paths": [
                "./scripts/summer.py"
            ]
        }
    </py-config>

    <!-- Navbar -->
    <title>Summer ðŸ“°</title>
    <link rel="icon" href="favicon.gif" type="image/gif"/>
</head>

<body>
    <div class="container">
        <h1 class="display-1 fw-bolder">Summer ðŸ“°</h1>
        <p class="lead">A little knowledge goes a long way.</p>
        
        <section id="input">
            <py-inputbox id="topic">
            </py-inputbox>
            <p>What would you like to know about?</p>
            <py-button id="submit" label="Summarize" class="mt-2">
                import asyncio
                from pyodide.ffi import create_proxy
                from summer import get_summary

                @create_proxy
                async def on_click(evt):
                    url = document.getElementById("topic").value
                    result = await get_summary(url)
                    pyscript.write("summary", result)
            </py-button>
        
        </section>
        
        <section id="summary" class="mt-4">
            <h6>Enter a keyword or a topic in the field above and let Summer ðŸ“° retrieve a summary from Wikipedia</h6>
        </section>
        
        <button id="copy" class="btn btn-warning">
            Copy to ðŸ“‹ Clipboard
        </button>
        
        <h4 class="mt-4">ðŸš§ Dummy Data ðŸš§</h4>
        <py-script src="./myscript.py"></py-script>
    
    </div>

</body>
</html>